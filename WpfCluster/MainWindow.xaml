<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d" x:Class="WpfCluster.MainWindow"
        Title="Percolation Clusters" Height="642.95" Width="1000" Background="WhiteSmoke" MouseMove="Window_MouseMove" MouseWheel="Window_MouseWheel" MouseLeftButtonDown="Window_MouseLeftButtonDown" MouseRightButtonDown="Window_MouseRightButtonDown">
    <Grid x:Name="mainGrid" Margin="0,0,0,-5">
        <Grid.RowDefinitions>
            <RowDefinition Height="59*"/>
            <RowDefinition Height="268*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <StackPanel HorizontalAlignment="Left" Height="108" VerticalAlignment="Top" Width="491">
            <TextBox x:Name="gridSize" HorizontalAlignment="Left" Height="23" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="71" Margin="10,5,0,0" FontFamily="Jing Jing" FontWeight="Thin"/>
            <TextBox x:Name="probability" HorizontalAlignment="Left" Height="23" TextWrapping="Wrap" Text="0,58" VerticalAlignment="Top" Width="71" Margin="10,5,0,0" FontFamily="Jing Jing" FontWeight="Thin"/>
            <CheckBox x:Name="showClusterCount" Content="Show Cluster Count" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,5,0,0" FontFamily="Jing Jing" FontWeight="Thin"/>
            <CheckBox x:Name="slowMotion" Content="Slow Motion Drawing" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,5,0,0" FontFamily="Jing Jing" FontWeight="Thin"/>
        </StackPanel>
        <StackPanel HorizontalAlignment="Left" Height="113" VerticalAlignment="Top" Width="486" Grid.Column="1">
            <Button x:Name="drawButton" Content="Draw" VerticalAlignment="Center" Width="100" Height="25" Margin="0,5,0,0" FontFamily="Jing Jing" Click="drawButton_Click" />
            <Button x:Name="fillButton" Content="Fill" VerticalAlignment="Center" Width="100" Height="25" Margin="0,5,0,0" FontFamily="Jing Jing" Click="fillButton_Click"/>
            <Button x:Name="clearButton" Content="Clear" VerticalAlignment="Center" Width="100" Height="25" Margin="0,5,0,0" FontFamily="Jing Jing" Click="clearButton_Click"/>
        </StackPanel>
        <Label Content="Grid (matrix) size" HorizontalAlignment="Left" Margin="88,4,0,0" VerticalAlignment="Top" Width="206" FontFamily="Jing Jing" FontWeight="Thin" Height="30"/>
        <Label Content="Grid cells probability" HorizontalAlignment="Left" Margin="88,30,0,0" VerticalAlignment="Top" Width="206" FontFamily="Jing Jing" FontWeight="Thin" Height="30"/>
        <Canvas x:Name="canvasField" HorizontalAlignment="Left" Height="476" Margin="10,10,0,0" VerticalAlignment="Top" Width="476" Grid.Row="1" RenderTransformOrigin="0.5,0.5">
            <Canvas.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform Angle="90"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Canvas.RenderTransform>
        </Canvas>
        <Viewport3D x:Name="viewportField" ClipToBounds="True" Grid.Column="1" Grid.Row="1">
            <Viewport3D.Camera>
                <PerspectiveCamera x:Name="mCamera" Position="10,10,60" LookDirection="-1,-1,-8" UpDirection="0,1,0"
					FarPlaneDistance="150" NearPlaneDistance="1" FieldOfView="100" >
                    <PerspectiveCamera.Transform>
                        <Transform3DGroup>
                            <RotateTransform3D>
                                <RotateTransform3D.Rotation>
                                    <AxisAngleRotation3D x:Name="rotY" Axis="0 1 0" Angle="0" />
                                </RotateTransform3D.Rotation>
                            </RotateTransform3D>
                            <RotateTransform3D>
                                <RotateTransform3D.Rotation>
                                    <AxisAngleRotation3D x:Name="rotX" Axis="1 0 0" Angle="0" />
                                </RotateTransform3D.Rotation>
                            </RotateTransform3D>
                            <RotateTransform3D>
                                <RotateTransform3D.Rotation>
                                    <AxisAngleRotation3D x:Name="rotZ" Axis="0 0 1" Angle="0" />
                                </RotateTransform3D.Rotation>
                            </RotateTransform3D>
                        </Transform3DGroup>
                    </PerspectiveCamera.Transform>
                </PerspectiveCamera>
            </Viewport3D.Camera>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <DirectionalLight Color="Transparent" Direction="-3,-4,-5" />
                </ModelVisual3D.Content>
            </ModelVisual3D>
        </Viewport3D>
    </Grid>
</Window>
